<div *ngIf="item.type.includes('albums')" appLazyLoadImage>
  <div *ngIf="item.attributes.artwork" class="row media-artwork">
    <a *ngIf="!item.type.includes('library')" [routerLink]="['/albums', item.id]"><img class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 800)" src="././assets/images/placeholder.png" /></a>
    <a *ngIf="item.type.includes('library')" [routerLink]="['/library/albums', item.id]"><img class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 800)" src="././assets/images/placeholder.png" /></a>
    <div class="media-control-button">
      <i class="fas fa-play-circle fa-2x" aria-hidden="true" (click)="musicService.playItem(item)"></i>
    </div>
  </div>
  <div class="row">
    <div class="media-album text-truncate" [ngClass]="!item.attributes.contentRating && item.attributes.contentRating !== 'explicit' ? 'col-12' : 'col-10'">
      <a [routerLink]="['/albums', item.id]" [ngClass]="light ? 'link-text-light' : ''" title="{{item.attributes.name}}">{{item.attributes.name}}</a>
    </div>
    <div *ngIf="item.attributes.contentRating && item.attributes.contentRating === 'explicit'" class="col-2 explicit">
      <i class="material-icons explicit-icon float-right" [ngClass]="light ? 'text-light' : 'text-muted'">explicit</i>
    </div>
  </div>
  <div class="row media-artist">
    <span *ngIf="!itemRelationships || !itemRelationships[1]" class="text-truncate" [ngClass]="light ? 'text-light' : ''" title="{{item.attributes.artistName}}">{{item.attributes.artistName}}</span>
    <a *ngIf="itemRelationships && itemRelationships[1]" [routerLink]="['/artists', itemRelationships[1]]" class="text-truncate" [ngClass]="light ? 'link-text-light' : ''" title="{{item.attributes.artistName}}">{{item.attributes.artistName}}</a>
  </div>
</div>

<div *ngIf="item.type.includes('playlists')" appLazyLoadImage>
  <div *ngIf="item.attributes.artwork" class="row media-artwork">
    <a *ngIf="!item.type.includes('library')" [routerLink]="['/playlists', item.id]"><img class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 800)" src="././assets/images/placeholder.png" /></a>
    <a *ngIf="item.type.includes('library')" [routerLink]="['/library/playlists', item.id]"><img class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 800)" src="././assets/images/placeholder.png" /></a>
    <div class="media-control-button">
      <i class="fas fa-play-circle fa-2x" aria-hidden="true" (click)="musicService.playItem(item)"></i>
    </div>
  </div>
  <div class='row media-album'>
    <a [routerLink]="['/playlists', item.id]" class="text-truncate" [ngClass]="light ? 'link-text-light' : ''" title="{{item.attributes.name}}">{{item.attributes.name}}</a>
  </div>
  <div *ngIf="item.relationships && item.relationships.curator && item.relationships.curator.data[0]" class="row media-album">
    <a *ngIf="item.relationships.curator.data[0].type === 'apple-curators'" [routerLink]="['/curators', 'apple', item.relationships.curator.data[0].id]" class="text-truncate" [ngClass]="light ? 'link-text-light' : ''" title="{{item.attributes.curatorName}}">{{item.attributes.curatorName}}</a>
    <a *ngIf="item.relationships.curator.data[0].type === 'curators'" [routerLink]="['/curators', 'user', item.relationships.curator.data[0].id]" class="text-truncate" [ngClass]="light ? 'link-text-light' : ''" title="{{item.attributes.curatorName}}">{{item.attributes.curatorName}}</a>
  </div>
  <div *ngIf="!item.relationships || !item.relationships.curator || !item.relationships.curator.data[0]" class="row media-album">
    <span class="text-truncate" [ngClass]="light ? 'link-text-light' : ''" title="{{item.attributes.curatorName}}">{{item.attributes.curatorName}}</span>
  </div>
</div>

<div *ngIf="item.type.includes('artists')" appLazyLoadImage>
  <div class="row media-artwork">
    <a *ngIf="!item.type.includes('library')" [routerLink]="['/artists', item.id]"><img class="img-fluid rounded" src="././assets/images/placeholder.png" /></a>
    <a *ngIf="item.type.includes('library')" [routerLink]="['/artists', item.id]"><img class="img-fluid rounded" src="././assets/images/placeholder.png" /></a>
  </div>
  <div class="row media-artist">
    <a [routerLink]="['/artists', item.id]" class="text-truncate" title="{{item.attributes.name}}">{{item.attributes.name}}</a>
  </div>
</div>

<div *ngIf="item.type.includes('songs')" appLazyLoadImage>
  <div *ngIf="item.attributes.artwork" class="row media-artwork">
    <img *ngIf="!itemRelationships" class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 300)" src="././assets/images/placeholder.png" />
    <a *ngIf="itemRelationships" [routerLink]="['/albums', itemRelationships[2]]"><img class="img-fluid" [src]="musicService.formatArtworkURL(item.attributes.artwork, 300)" src="././assets/images/placeholder.png" /></a>
    <div class="media-control-button">
      <i class="fas fa-play-circle fa-2x" aria-hidden="true" (click)="musicService.playItem(item)"></i>
    </div>
  </div>
  <div class="row media-album">
    <span *ngIf="!itemRelationships" class="text-truncate" title="{{item.attributes.name}}">{{item.attributes.name}}</span>
    <a *ngIf="itemRelationships" class="text-truncate" [routerLink]="['/albums', itemRelationships[2]]" title="{{item.attributes.name}}">{{item.attributes.name}}</a>
  </div>
  <div class="row media-album">
    <span *ngIf="!itemRelationships" class="text-truncate" title="{{item.attributes.albumName}}">{{item.attributes.albumName}}</span>
    <a *ngIf="itemRelationships" class="text-truncate" [routerLink]="['/albums', itemRelationships[2]]" title="{{item.attributes.albumName}}">{{item.attributes.albumName}}</a>
  </div>
  <div class="row media-artist">
    <span *ngIf="!itemRelationships" class="text-truncate" title="{{item.attributes.artistName}}">{{item.attributes.artistName}}</span>
    <a *ngIf="itemRelationships" class="text-truncate" [routerLink]="['/artists', itemRelationships[1]]" title="{{item.attributes.artistName}}">{{item.attributes.artistName}}</a>
  </div>
</div>

<div *ngIf="item.type.includes('curators')" appLazyLoadImage>
  <div *ngIf="item.attributes.artwork" class="row media-artwork">
    <a *ngIf="item.type === 'apple-curators'" [routerLink]="['/curators', 'apple', item.id]"><img class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 800)" src="././assets/images/placeholder.png" /></a>
    <a *ngIf="item.type === 'curators'" [routerLink]="['/curators', 'user', item.id]"><img class="img-fluid rounded" [attr.data-src]="musicService.formatArtworkURL(item.attributes.artwork, 800)" src="././assets/images/placeholder.png" /></a>
  </div>
  <div class="row media-artist">
    <a *ngIf="item.type === 'apple-curators'" class="text-truncate" [routerLink]="['/curators', 'apple', item.id]" title="{{item.attributes.name}}">{{item.attributes.name}}</a>
    <a *ngIf="item.type === 'curators'" class="text-truncate" [routerLink]="['/curators', 'user', item.id]" title="{{item.attributes.name}}">{{item.attributes.name}}</a>
  </div>
</div>
