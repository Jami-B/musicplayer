<div class="container-fluid">

  <div *ngIf="this.loading">
    <mat-spinner class="loading-spinner"></mat-spinner>
  </div>

  <div *ngIf="!this.loading">
    <div *ngIf="musicService.artist">
      <div class="artist-background container-fluid">
        <h1 class="text-truncate text-light">{{musicService.artist.attributes.name}}</h1>

        <div class="row container-fluid">
          <div *ngIf="musicService.artist && musicService.artist.relationships.albums.data && musicService.artist.relationships.albums.data | albumFilter : 'latestRelease'" class="col-6 col-sm-4 col-md-3" [ngClass]="(musicService.artist.relationships.albums.data | albumFilter : 'upcomingRelease') ? 'offset-sm-4 offset-md-6' : 'offset-6 offset-sm-8 offset-md-9'">
            <h5 class="text-truncate text-light" title="Latest Release">Latest Release</h5>
            <app-media-item-view [item]="musicService.artist.relationships.albums.data | albumFilter : 'latestRelease'" [light]=true></app-media-item-view>
          </div>
          <div *ngIf="musicService.artist && musicService.artist.relationships.albums.data && musicService.artist.relationships.albums.data | albumFilter : 'upcomingRelease'" class="col-6 col-sm-4 col-md-3">
            <h5 class="text-truncate text-light" title="Upcoming Release">Upcoming Release</h5>
            <app-media-item-view [item]="musicService.artist.relationships.albums.data | albumFilter : 'upcomingRelease'" [light]=true></app-media-item-view>
          </div>
        </div>
      </div>

      <hr />

      <div *ngIf="albums">
        <div class="row">
          <div class="col-6"><h2>Albums</h2></div>
          <div class="col-6">
            <select class="float-right" (change)="sortAlbums($event)">
              <option value="recommended">Recommended</option>
              <option value="release-date-asc">Release Date (oldest first)</option>
              <option value="release-date-desc">Release Date (newest first)</option>
            </select>
          </div>
        </div>
        <app-media-item-collection-row [items]="albums" [divider]=true></app-media-item-collection-row>
      </div>

      <div *ngIf="musicService.artist && musicService.artist.relationships.albums.data && (musicService.artist.relationships.albums.data | albumFilter : 'singles').length">
        <h2>Singles</h2>
        <app-media-item-collection-row [items]="musicService.artist.relationships.albums.data | albumFilter : 'singles'" [divider]=true></app-media-item-collection-row>
      </div>

      <div *ngIf="musicService.playlists && musicService.playlists.relationships.playlists.data && musicService.playlists.relationships.playlists.data.length">
        <h2>Artist Playlists</h2>
        <app-media-item-collection-row [items]="musicService.playlists.relationships.playlists.data"></app-media-item-collection-row>
      </div>

    </div>
  </div>

</div>